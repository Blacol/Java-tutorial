[TOC]

# 引用数据类型

## 本章任务：

- [ ] 了解都有哪些引用类型
- [ ] 掌握一维数组的定义与使用

## 引用数据类型

在第四章时有提到Java有两种数据类型，一种基本数据类型，一种是引用数据类型。之所以叫做引用数据类型是因为**这种数据类型是通过地址去找值的**。

关于地址其实就是变量的一个别名，比如，有一个变量叫a，但是，变量a在内存中不叫a，叫`xxx@123456`这种地址。引用数据类型对数据的操作也是围绕着这个地址进行的。

举个例子：

```java
public class A{
    private String name;
    //Getter,Setter...
}
public static void main(String[] args){
    A a=new A();
    a.setName("张三");
}
```

我们定义了一个A并声明了A的对象a，然后我们对a进行操作，将a中的name设为“张三”。这么看好像是和数值做交互，但实际上并不是，对象a在new后就指向了一块地址为某某某的内存，我们将name设置为某个值是对a所指向的内存空间进行修改，将这个内存空间中的值修改为“张三”。

这一特性在数组中的应用最为明显。这一点在后面讲到对象数组时在做介绍。

引用数据类型有以下几种：

1. 类（Class）
2. 接口（Interface）
3. 数组（Array）

首先类和接口在后面会学到，这里重点学习一下数组。

## 数组

### 一维数组

数组是**同一种数据类型的数据集合**。它只能存储同一种数据类型的数据。数组的长度是不可以被改变的，但可以通过扩容来扩大数组的空间。

数组定义方法：

```
数据类型[] 数组名=new 数据类型[长度]
数据类型[] 数组名={数组元素}
```

第一种是比较常用的数组定义方式，我们看一个例子：

```java
int[] intArr=new int[5];
```

这个语句定义了一个长度为5的整型数组，它只能存5个整数。需要注意的是，**new后面的数据类型要和前面的数据类型一致**，比如此处`int[]`就表示我要定义int型数组，那new的时候就必须是`new int[5]`而不能是其他类型。

现在这个数组中的值是这样的：

```
{0,0,0,0,0}
```

那么怎么修改数组中的元素或者取数组中的元素呢。我们可以通过`数组名[下标]`来获取数组中的元素。通过`数组名[下标]=新值`来修改数组中的元素。需要注意的是，**下标从0开始**。

以上面已经定义的数组为例：

```java
System.out.println(intArr[2]);
intArr[2]=15;
System.out.println(intArr[2]);
```

结果为：

```
0
15
```

此时，数组中是这样的：

```
{0,0,15,0,0,0}
```

第一行代码输出数组`intArr`中的第3个元素（下标从0开始，所以第三个元素的下标为2），为0，第二行将15赋值给数组中的第3个元素，此时数组中第三个元素为15.

第三行代码是再获取数组中第三个元素。

如果想获取数组中所有的元素可以通过循环解决。最常用的是for循环：

```java
for(int i=0;i<intArr.length;i++){
	System.out.println(intArr[i]);
}
```

这样就会把数组当中的值全取出来了。

`length`是数组提供的属性，用于获取数组的长度。比如上面定义的数组，其长度就是5。

上面的代码中i当做下标，从0到4，分别取数组中第1-5个元素并打印出来。

数组在程序设计中用到很多，不过数组有一些不足的地方，Java也提供了一些工具类来弥补这些不足。这些工具类后面都会学到。

第一种定义方法就到这里，下面说一下第二种定义方法：

```
数据类型[] 数组名={数组元素}
```

这种定义方法适合元素数量固定并且元素数量相对较少的情况。这种方法要求元素的数据类型必须和定义的数据类型一样。举例：

```java
char[] 五行={'金','木','水','火','土'};
```

五行中元素确定，就5个元素——金木水火土，都是字符型。所以适合这种定义方法。

如果你有100多个数据则不推荐这种方法，因为这种方法需要你把元素一一列出来，这将是一个大工程，所以不推荐使用这种方法，请使用第一种定义方法。

> Tips:
>
> 还记得第五章的可变形参吗？可变形参的本质就是一个数组。我们以下面的代码为例：
>
> ```java
> public int add(int ...a){
>     //...
> }
> ```
>
> 其中形参a本质上就是一个int类型的数组。我们可以使用数组的操作方法获取参数值。

### 二维数组

上面的数组是一维数组，Java中还支持二维数组，二维数组通过行坐标和列坐标获取元素。

```
数据类型[][] 数组名=new 数据类型[行数][列数];
```

这就是二维数组，你可以把它想象成一个矩阵，在定义二维数组时，列数可以省略。

```java
int[][] table1=new int[3][];
int[][] table2=new int[3][5];
```

上面两种方法都是允许的。

那第一种方法定义的数组其列数是怎么规定的呢？

第一种方法定义的数组其列数需要在使用前声明，否则会报错，所以还是用第二种定义方法吧:p。

取值的话需要用到两个下标，一个是行标一个是列标（两个下标都是从0开始），举例：`table[0][1]`就是获取第一行第二列的元素。

二维数组其本质还是一维数组，二维数组最广泛的用途是表示矩阵。在简单开发中并不常用。



